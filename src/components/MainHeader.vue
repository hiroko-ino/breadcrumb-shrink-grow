<script setup lang="ts">
import { PropType } from 'vue'
import { BreadcrumbItemType } from '../types'
import BreadcrumbList from './BreadcrumbList.vue'
import Control from './Control.vue';

const emit = defineEmits(['move-folder', 'create-folder', 'create-file']);

const props = defineProps({
  list: {
    type: Array as PropType<BreadcrumbItemType[]>,
    default: [],
  },
  currentId: {
    type: String,
    required: true, 
  },
  initialGrandfatherId: {
    type: String,
    required: true, 
  }
})

/**
 * ãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•ã®emit
 */
 const moveFolder = (id: string) => {
  emit('move-folder', id)
}

/**
 * ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆã®emit
 */
 const createFolder = (parentId: string, folderName: string) => {
  emit('create-folder', parentId, folderName)
}

/**
 * ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆã®emit
 */
 const createFile = (parentId: string, fileName: string) => {
  emit('create-file', parentId, fileName)
}

/**
 * ãƒ•ã‚¡ã‚¤ãƒ«
 */
</script>

<template>
  <p>PCã§ã¿ã¦ã­ï¼</p>
  <h1 class="text-2xl font-bold mt-1">ğŸ“ Vue.jsã§DOMæ“ä½œã®é¬¼ã«ãªã‚Šã€ãƒ‘ãƒ³ããšã®ä¼¸ç¸®è¡¨ç¤ºã‚’æ¥µã‚ãŸã„.com</h1>
  <div class="mt-2 flex justify-between items-center max-w-full">
    <breadcrumb-list
      class="shrink grow"
      :list="props.list"
      :initialGrandfatherId="initialGrandfatherId"
      @move-folder="moveFolder"
      @create-folder="createFolder" />
    <control :currentId="currentId" @create-folder="createFolder" @create-file="createFile" class="shrink-0" />
  </div>
</template>

<style scoped>
</style>
